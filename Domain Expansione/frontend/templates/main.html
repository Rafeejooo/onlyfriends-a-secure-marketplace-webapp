<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../static/style1.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    

    <style>
      @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap');

.header {
  background: linear-gradient(to right, #F9C6D3, #FFD5EC);
  padding: 1rem 0;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  font-family: 'Fredoka', sans-serif;
}

.nav-links {
  display: flex;
  align-items: center;
  gap: 20px;
}

.icon {
  width: 24px;
  height: 24px;
}

.group:hover .group-hover\:block {
  display: block;
}


.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.logo {
  display: flex;
  align-items: center;
  font-size: 1.8rem;
  font-weight: 600;
  color: #D65DB1;
}

.logo-text {
  margin-left: 0.4rem;
  color: #333;
}

.text-pink {
  color: #D65DB1;
}

.nav-links a {
  margin-left: 1.5rem;
  text-decoration: none;
  color: #444;
  font-weight: 500;
  transition: all 0.3s ease;
  position: relative;
}

.nav-links a:hover {
  color: #D65DB1;
  transform: scale(1.05);
}

.login-btn {
  background-color: #FFD5EC;
  padding: 0.4rem 1rem;
  border-radius: 20px;
  font-weight: bold;
  display: inline-flex;
  align-items: center;
  transition: background-color 0.3s ease;
}

.login-btn:hover {
  background-color: #fcb8e2;
}

.login-btn .icon {
  width: 20px;
  height: 20px;
  margin-right: 8px;
}

/* Optional: hide scrollbar in horizontal scroll */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

    </style>
</head>
<body>
  <header class="header">
    <div class="container header-content flex justify-between items-center">
      <h1 class="logo">
        💕 <span class="logo-text">Only<span class="text-pink">a</span>Friend</span>
      </h1>
  
      <nav class="nav-links flex items-center gap-6">
        <a href="#" class="text-gray-700 hover:text-pink-500">Browse</a>
        <a href="#" class="text-gray-700 hover:text-pink-500">My Bookings</a>
  
        <!-- 👤 User Dropdown -->
        <div class="relative group">
          <button class="login-btn flex items-center gap-2 focus:outline-none">
            <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png" alt="user" class="icon w-6 h-6">
            <span id="userName" class="text-gray-800 font-medium">
              {{ user_name if user_name else 'Log In' }}
            </span>
          </button>
          <div class="absolute right-0 mt-2 w-36 bg-white rounded-md shadow-lg border hidden group-hover:block z-50">
            <a href="/profile" class="block px-4 py-2 hover:bg-pink-100 text-sm text-gray-700">👤 Profile</a>
            <a href="/logout" class="block px-4 py-2 hover:bg-pink-100 text-sm text-gray-700">🚪 Log Out</a>
          </div>
        </div>
      </nav>
    </div>
  </header>
  
  
  

    <main class="container">
      <div class="sect1 bg-gradient-to-br from-[#FFD5EC] via-[#FFF3B0] to-[#F9C6D3] py-24 px-6 rounded-b-[4rem] relative overflow-hidden font-['Fredoka']">
        <div class="max-w-4xl mx-auto text-center z-10 relative">
          <!-- Amplop Ilustrasi -->
          <div class="mx-auto mb-8 w-24 md:w-32 animate__animated animate__fadeInDown">
            <img src="../static/mail.svg" alt="love letter" class="w-full">
          </div>
      
          <!-- Judul -->
          <h1 class="text-4xl md:text-6xl font-extrabold text-[#D65DB1] mb-4 animate__animated animate__fadeInUp">
            Kirim Cinta, Temukan Teman 💌
          </h1>
      
          <!-- Deskripsi -->
          <p class="text-lg md:text-xl text-[#444444] mb-8 animate__animated animate__fadeInUp animate__delay-1s max-w-2xl mx-auto">
            Sewa teman ngobrol, healing, atau sekadar ngopi bareng. Pilih vibes kamu & kirim pesan cinta sekarang! 💬✨
          </p>
      
          <!-- CTA -->
          <div class="flex justify-center gap-4 animate__animated animate__zoomIn animate__delay-2s">
            <a href="#browse"
              class="bg-[#D65DB1] hover:bg-pink-400 text-white px-6 py-3 rounded-full font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg">
              💖 Mulai Sekarang
            </a>
            <a href="#swipe"
              class="bg-white hover:bg-[#FFE5F0] text-[#D65DB1] px-6 py-3 rounded-full font-semibold border border-[#D65DB1] transition-all duration-300 transform hover:scale-105 shadow-md">
              👉 Coba Swipe!
            </a>
          </div>
        </div>
      
        <!-- Floating emoji decorations -->
        <div class="absolute top-10 left-6 text-4xl animate-bounce">📮</div>
        <div class="absolute bottom-12 right-10 text-4xl animate-pulse">💘</div>
      </div>
      <br>
      
        <div class="sect2">
            <section class="text-[#333] bg-[#FFF8F9] body-font">
                <div class="container mx-auto flex px-5 py-24 md:flex-row flex-col items-center">
                  <!-- Swiper Image Slider -->
                  <div class="lg:max-w-lg lg:w-full md:w-1/2 w-5/6 mb-10 md:mb-0">
                    <div class="swiper rounded-xl shadow-md">
                      <div class="swiper-wrapper">
                        <div class="swiper-slide">
                          <img class="object-cover object-center rounded-xl w-full h-[400px]" src="https://elements-resized.envatousercontent.com/elements-cover-images/a3231936-7031-49f1-92d9-84438e5d734e?w=433&cf_fit=scale-down&q=85&format=auto&s=eb048a301b39342f264b73eda146e5d7cc071cfb51ed2fcb3d7f9b9096015aae" alt="slide1" />
                        </div>
                        <div class="swiper-slide">
                          <img class="object-cover object-center rounded-xl w-full h-[400px]" src="https://www.freevector.com/uploads/vector/preview/58532/vecteezyonline_dating-illustrationSS1121_generated.jpg" />
                        </div>
                        <div class="swiper-slide">
                          <img class="object-cover object-center rounded-xl w-full h-[400px]" src="https://media.istockphoto.com/id/1383630246/vector/couple-on-valentines-day.jpg?s=612x612&w=0&k=20&c=t8S9cj79qIFMkdY3Sx_JajHDO-zWBUarHD6sUponIF4=" alt="slide3" />
                        </div>
                      </div>
                      <div class="swiper-pagination mt-2"></div>
                    </div>
                  </div>
              
                  <!-- Text Content -->
                  <div class="lg:flex-grow md:w-1/2 lg:pl-24 md:pl-16 flex flex-col md:items-start md:text-left items-center text-center">
                    <h1 class="title-font sm:text-4xl text-3xl mb-4 font-semibold text-[#D65DB1]">
                      Temukan Partner Ngobrolmu
                      <br class="hidden lg:inline-block" />dengan vibes yang cocok
                    </h1>
                    <p class="mb-8 leading-relaxed text-[#555]">
                      Dari pecinta kucing sampai gamer sejati, kamu bisa pilih teman yang cocok buat nemenin harimu. Semua partner sudah diverifikasi dan siap menemani kamu dengan nyaman.
                    </p>
                    <div class="flex justify-center">
                      <button class="inline-flex text-white bg-[#D65DB1] border-0 py-2 px-6 focus:outline-none hover:bg-[#f78cc4] rounded text-lg">
                        Mulai Cari Partner
                      </button>
                      <button class="ml-4 inline-flex text-[#333] bg-[#FFF3B0] border-0 py-2 px-6 focus:outline-none hover:bg-[#ffe780] rounded text-lg">
                        Lihat Daftar
                      </button>
                    </div>
                  </div>
                </div>
              </section>
              
        </div>
        <!-- Adjust soft pink background -->

<div class="sect3 bg-[#FFF8F9] py-24">
  <section class="body-font">
    <div class="container px-5 mx-auto">
      <div class="flex flex-col text-center w-full mb-10">
        <h1 class="sm:text-3xl text-2xl font-semibold title-font mb-4 text-[#D65DB1]">Find Your Vibes 💖</h1>
        <p class="lg:w-2/3 mx-auto leading-relaxed text-base text-[#555555]">
          Cari teman untuk jalan, ngobrol, atau sekadar mengisi waktu luangmu. Semua partner punya kepribadian unik!
        </p>
      </div>

      <!-- Horizontal Scroll -->
      <div class="flex gap-6 overflow-x-auto pb-4 scrollbar-hide">
        <!-- Card 1 -->
        <div onclick="openOrderPopup('Sarah')" class="min-w-[320px] max-w-[360px] rounded-2xl shadow-md hover:shadow-xl transition duration-300 cursor-pointer relative">
          <img src="https://dummyimage.com/600x400" class="w-full h-[400px] object-cover rounded-2xl" />
          <div class="absolute inset-0 z-10 px-6 py-8 border-4 border-[#F9C6D3] bg-white bg-opacity-0 hover:bg-[#F9C6D3] hover:bg-opacity-90 rounded-2xl transition duration-300">
            <h2 class="tracking-widest text-sm font-medium text-[#B48CF2] mb-1">SOFT VIBES</h2>
            <h1 class="text-xl font-semibold text-[#D65DB1] mb-2">Sarah - Cat Lover</h1>
            <p class="text-[#333333] text-sm">Suka ngobrol santai, anime, dan pecinta kucing. Cocok buat chill & coffee date.</p>
          </div>
        </div>

        <!-- Card 2 -->
        <div onclick="openOrderPopup('Lina')" class="min-w-[320px] max-w-[360px] rounded-2xl shadow-md hover:shadow-xl transition duration-300 cursor-pointer relative">
          <img src="https://dummyimage.com/600x401" class="w-full h-[400px] object-cover rounded-2xl" />
          <div class="absolute inset-0 z-10 px-6 py-8 border-4 border-[#F9C6D3] bg-white bg-opacity-0 hover:bg-[#F9C6D3] hover:bg-opacity-90 rounded-2xl transition duration-300">
            <h2 class="tracking-widest text-sm font-medium text-[#B48CF2] mb-1">COZY TALK</h2>
            <h1 class="text-xl font-semibold text-[#D65DB1] mb-2">Lina - Storyteller</h1>
            <p class="text-[#333333] text-sm">Pendengar yang baik, suka bercerita & cocok buat temani malam minggu kamu.</p>
          </div>
        </div>

        <!-- Card 3 -->
        <div onclick="openOrderPopup('Nadia')" class="min-w-[320px] max-w-[360px] rounded-2xl shadow-md hover:shadow-xl transition duration-300 cursor-pointer relative">
          <img src="https://dummyimage.com/600x402" class="w-full h-[400px] object-cover rounded-2xl" />
          <div class="absolute inset-0 z-10 px-6 py-8 border-4 border-[#F9C6D3] bg-white bg-opacity-0 hover:bg-[#F9C6D3] hover:bg-opacity-90 rounded-2xl transition duration-300">
            <h2 class="tracking-widest text-sm font-medium text-[#B48CF2] mb-1">GAMER DATE</h2>
            <h1 class="text-xl font-semibold text-[#D65DB1] mb-2">Nadia - Mobile Legends Pro</h1>
            <p class="text-[#333333] text-sm">Teman mabar yang asik, jago ML dan suka diskusi soal game dan film!</p>
          </div>
        </div>

        <div onclick="openOrderPopup('Sarah')" class="min-w-[320px] max-w-[360px] rounded-2xl shadow-md hover:shadow-xl transition duration-300 cursor-pointer relative">
          <img src="https://dummyimage.com/600x400" class="w-full h-[400px] object-cover rounded-2xl" />
          <div class="absolute inset-0 z-10 px-6 py-8 border-4 border-[#F9C6D3] bg-white bg-opacity-0 hover:bg-[#F9C6D3] hover:bg-opacity-90 rounded-2xl transition duration-300">
            <h2 class="tracking-widest text-sm font-medium text-[#B48CF2] mb-1">SOFT VIBES</h2>
            <h1 class="text-xl font-semibold text-[#D65DB1] mb-2">Sarah - Cat Lover</h1>
            <p class="text-[#333333] text-sm">Suka ngobrol santai, anime, dan pecinta kucing. Cocok buat chill & coffee date.</p>
          </div>
        </div>

        <div onclick="openOrderPopup('Sarah')" class="min-w-[320px] max-w-[360px] rounded-2xl shadow-md hover:shadow-xl transition duration-300 cursor-pointer relative">
          <img src="https://dummyimage.com/600x400" class="w-full h-[400px] object-cover rounded-2xl" />
          <div class="absolute inset-0 z-10 px-6 py-8 border-4 border-[#F9C6D3] bg-white bg-opacity-0 hover:bg-[#F9C6D3] hover:bg-opacity-90 rounded-2xl transition duration-300">
            <h2 class="tracking-widest text-sm font-medium text-[#B48CF2] mb-1">SOFT VIBES</h2>
            <h1 class="text-xl font-semibold text-[#D65DB1] mb-2">Sarah - Cat Lover</h1>
            <p class="text-[#333333] text-sm">Suka ngobrol santai, anime, dan pecinta kucing. Cocok buat chill & coffee date.</p>
          </div>
        </div>

        <div onclick="openOrderPopup('Sarah')" class="min-w-[320px] max-w-[360px] rounded-2xl shadow-md hover:shadow-xl transition duration-300 cursor-pointer relative">
          <img src="https://dummyimage.com/600x400" class="w-full h-[400px] object-cover rounded-2xl" />
          <div class="absolute inset-0 z-10 px-6 py-8 border-4 border-[#F9C6D3] bg-white bg-opacity-0 hover:bg-[#F9C6D3] hover:bg-opacity-90 rounded-2xl transition duration-300">
            <h2 class="tracking-widest text-sm font-medium text-[#B48CF2] mb-1">SOFT VIBES</h2>
            <h1 class="text-xl font-semibold text-[#D65DB1] mb-2">Sarah - Cat Lover</h1>
            <p class="text-[#333333] text-sm">Suka ngobrol santai, anime, dan pecinta kucing. Cocok buat chill & coffee date.</p>
          </div>
        </div>

        <div onclick="openOrderPopup('Sarah')" class="min-w-[320px] max-w-[360px] rounded-2xl shadow-md hover:shadow-xl transition duration-300 cursor-pointer relative">
          <img src="https://dummyimage.com/600x400" class="w-full h-[400px] object-cover rounded-2xl" />
          <div class="absolute inset-0 z-10 px-6 py-8 border-4 border-[#F9C6D3] bg-white bg-opacity-0 hover:bg-[#F9C6D3] hover:bg-opacity-90 rounded-2xl transition duration-300">
            <h2 class="tracking-widest text-sm font-medium text-[#B48CF2] mb-1">SOFT VIBES</h2>
            <h1 class="text-xl font-semibold text-[#D65DB1] mb-2">Sarah - Cat Lover</h1>
            <p class="text-[#333333] text-sm">Suka ngobrol santai, anime, dan pecinta kucing. Cocok buat chill & coffee date.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<!-- 🎀 ORDER POPUP -->
<div id="orderPopup" class="fixed hidden inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50">
  <div class="relative bg-white rounded-2xl w-[90%] max-w-md p-6 overflow-hidden shadow-2xl"
    style="background: url('https://static.vecteezy.com/system/resources/previews/007/145/546/non_2x/love-sign-cartoon-background-illustration-to-self-care-valentines-or-yourself-icon-in-different-actions-of-happiness-for-poster-vector.jpg') no-repeat center center / cover; opacity: 0.96;">
    <div class="absolute inset-0 bg-white bg-opacity-70 backdrop-blur-sm rounded-2xl"></div>

    <!-- STEP 1: ORDER -->
    <div class="relative z-10" id="orderFormContainer">
      <button onclick="closeOrderPopup()" class="absolute top-3 right-3 text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
      <h2 id="popupTitle" class="text-2xl font-bold text-[#D65DB1] mb-4 text-center">Order Date</h2>
      <form id="orderForm" class="space-y-4">
        <input type="hidden" id="talentIdInput" name="talent_id">
        <div>
          <label class="text-sm font-medium">Nama Kamu</label>
          <input type="text" name="name" required class="w-full mt-1 p-2 border rounded-lg focus:ring-2 focus:ring-[#D65DB1]">
        </div>
        <div>
          <label class="text-sm font-medium">Tanggal Kencan</label>
          <input type="date" name="date" required class="w-full mt-1 p-2 border rounded-lg focus:ring-2 focus:ring-[#D65DB1]">
        </div>
        <div>
          <label class="text-sm font-medium">Pilih Paket</label>
          <div class="mt-2 space-y-2">
            <label class="flex items-center gap-2">
              <input type="radio" name="package" value="1_hour" required class="accent-[#D65DB1]"> 1 Jam - Rp300.000
            </label>
            <label class="flex items-center gap-2">
              <input type="radio" name="package" value="2_hours" class="accent-[#D65DB1]"> 2 Jam - Rp500.000
            </label>
            <label class="flex items-center gap-2">
              <input type="radio" name="package" value="1_day" class="accent-[#D65DB1]"> 1 Hari - Rp1.000.000
            </label>
          </div>
        </div>
        <div class="text-center pt-2">
          <button type="submit" class="bg-[#D65DB1] hover:bg-pink-500 text-white font-semibold py-2 px-6 rounded-full shadow-md">💗 Pesan Sekarang</button>
        </div>
      </form>
    </div>

    <!-- STEP 2: PAYMENT -->
    <div class="relative z-10 hidden" id="paymentFormContainer">
      <h2 class="text-2xl font-bold text-[#D65DB1] mb-4 text-center">Konfirmasi Pembayaran</h2>
      <div class="text-center mb-4">
        <img id="qrCodeImage" src="" alt="QR Code" class="mx-auto rounded-lg border-4 border-[#D65DB1]">
        <p class="mt-2 text-sm text-[#555]">Scan QR untuk membayar. Pastikan kamu transfer sesuai harga paket 💸</p>
      </div>
      <form id="confirmForm" class="space-y-4">
        <input type="hidden" id="orderIdHidden" name="order_id">
        <div>
          <label class="text-sm font-medium">Nama Bank</label>
          <input type="text" name="bank" required class="w-full mt-1 p-2 border rounded-lg focus:ring-2 focus:ring-[#D65DB1]">
        </div>
        <div>
          <label class="text-sm font-medium">Nama Pengirim</label>
          <input type="text" name="sender" required class="w-full mt-1 p-2 border rounded-lg focus:ring-2 focus:ring-[#D65DB1]">
        </div>
        <div class="text-center pt-2">
          <button type="submit" class="bg-[#B48CF2] hover:bg-purple-500 text-white font-semibold py-2 px-6 rounded-full shadow-md">💸 Konfirmasi Pembayaran</button>
        </div>
      </form>
    </div>

    <!-- STEP 3: SUCCESS -->
    <div class="relative z-10 hidden" id="successContainer">
      <h2 class="text-2xl font-bold text-[#D65DB1] mb-4 text-center">Pembayaran Berhasil 🎉</h2>
      <div class="text-center">
        <img src="https://media.giphy.com/media/5GoVLqeAOo6PK/giphy.gif" alt="Success" class="mx-auto w-52 h-52 rounded-lg shadow-lg">
        <p class="mt-4 text-[#333]">Terima kasih sudah melakukan pembayaran! 😍</p>
      </div>
      <div class="text-center pt-4">
        <button onclick="closeOrderPopup()" class="bg-[#D65DB1] hover:bg-pink-600 text-white py-2 px-6 rounded-full">Tutup</button>
      </div>
    </div>
  </div>
</div>

<!-- ✅ SCRIPT -->
<script>
  function openOrderPopup(id, name) {
    document.getElementById('talentIdInput').value = id;
    document.getElementById('popupTitle').innerText = `Order Date with ${name}`;
    document.getElementById('orderPopup').classList.remove('hidden');
    document.getElementById('orderFormContainer').classList.remove('hidden');
    document.getElementById('paymentFormContainer').classList.add('hidden');
    document.getElementById('successContainer').classList.add('hidden');
  }

  function closeOrderPopup() {
    document.getElementById('orderPopup').classList.add('hidden');
  }

  // 📦 Order Submit
  document.getElementById('orderForm').addEventListener('submit', async function(event) {
    event.preventDefault();
    const formData = new FormData(this);
    const res = await fetch('/order', {
      method: 'POST',
      body: formData
    });

    const data = await res.json();
    if (data.success) {
      const orderId = data.order_id;
      document.getElementById('orderFormContainer').classList.add('hidden');
      document.getElementById('paymentFormContainer').classList.remove('hidden');
      document.getElementById('qrCodeImage').src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=ORDER_ID_${orderId}`;
      document.getElementById('orderIdHidden').value = orderId;
    } else {
      alert("Gagal memesan: " + (data.error || "Unknown error"));
    }
  });

  // 💸 Payment Confirm
  document.getElementById('confirmForm').addEventListener('submit', async function(event) {
    event.preventDefault();
    const formData = new FormData(this);
    const res = await fetch('/confirm-payment', {
      method: 'POST',
      body: formData
    });

    const data = await res.json();
    if (data.success) {
      document.getElementById('paymentFormContainer').classList.add('hidden');
      document.getElementById('successContainer').classList.remove('hidden');
    } else {
      alert("Konfirmasi gagal: " + (data.error || "Unknown error"));
    }
  });
</script>





        <div class="sect4">
          <!-- Swipe Section -->
      <div id="swipe" class="py-20 bg-[#FFF8F9]">
        <div class="text-center mb-10">
          <h2 class="text-3xl font-bold text-[#D65DB1]">Swipe & Temukan Partner</h2>
          <p class="text-gray-600">Geser ke kanan jika cocok, klik untuk booking!</p>
        </div>

        <!-- Card Container -->
        <div class="flex justify-center">
          <div id="cardContainer" class="w-[300px] h-[450px] relative">
            
            <!-- Card 3 -->
            <div class="swipe-card absolute w-full h-full bg-white rounded-xl shadow-md overflow-hidden translate-x-2 translate-y-2" data-name="Nadia">
              <img src="https://img.okezone.com/content/2023/09/26/194/2890273/5-potret-vonzy-liburan-di-bali-wajah-imutnya-bikin-gemas-JH6hZzSioP.jpg" class="w-full h-[300px] object-cover" />
              <div class="p-4">
                <h3 class="text-xl font-semibold text-[#D65DB1]">Nadia, 24</h3>
                <p class="text-gray-600">Penyuka senja dan buku, introvert yang manis.</p>
              </div>
            </div>

            <!-- Card 2 -->
            <div class="swipe-card absolute w-full h-full bg-white rounded-xl shadow-lg overflow-hidden translate-x-1 translate-y-1" data-name="Reza">
              <img src="https://i.pinimg.com/564x/c6/7f/f9/c67ff9c1e5bc89cd37c4de3c8b115bd1.jpg" class="w-full h-[300px] object-cover" />
              <div class="p-4">
                <h3 class="text-xl font-semibold text-[#D65DB1]">Chelsea, 26</h3>
                <p class="text-gray-600">Extrovert yang aktif, senang ngopi & ngobrol santai.</p>
              </div>
            </div>

            <!-- Card 1 -->
            <div class="swipe-card absolute w-full h-full bg-white rounded-xl shadow-xl overflow-hidden z-10" data-name="Dita">
              <img src="https://i.pinimg.com/736x/af/07/5b/af075bba3ec2d1201385b4f4d8160591.jpg" class="w-full h-[300px] object-cover" />
              <div class="p-4">
                <h3 class="text-xl font-semibold text-[#D65DB1]">Dita, 23</h3>
                <p class="text-gray-600">Suka ngobrol, pecinta kucing, vibes introvert comfy.</p>
              </div>
            </div>

            <div class="swipe-card absolute w-full h-full bg-white rounded-xl shadow-xl overflow-hidden z-10" data-name="Dita">
              <img src="https://i.pinimg.com/736x/af/07/5b/af075bba3ec2d1201385b4f4d8160591.jpg" class="w-full h-[300px] object-cover" />
              <div class="p-4">
                <h3 class="text-xl font-semibold text-[#D65DB1]">Dita, 23</h3>
                <p class="text-gray-600">Suka ngobrol, pecinta kucing, vibes introvert comfy.</p>
              </div>
            </div>

            <div class="swipe-card absolute w-full h-full bg-white rounded-xl shadow-xl overflow-hidden z-10" data-name="Dita">
              <img src="https://i.pinimg.com/736x/af/07/5b/af075bba3ec2d1201385b4f4d8160591.jpg" class="w-full h-[300px] object-cover" />
              <div class="p-4">
                <h3 class="text-xl font-semibold text-[#D65DB1]">Dita, 23</h3>
                <p class="text-gray-600">Suka ngobrol, pecinta kucing, vibes introvert comfy.</p>
              </div>
            </div>

            <div class="swipe-card absolute w-full h-full bg-white rounded-xl shadow-xl overflow-hidden z-10" data-name="Dita">
              <img src="https://i.pinimg.com/736x/af/07/5b/af075bba3ec2d1201385b4f4d8160591.jpg" class="w-full h-[300px] object-cover" />
              <div class="p-4">
                <h3 class="text-xl font-semibold text-[#D65DB1]">Dita, 23</h3>
                <p class="text-gray-600">Suka ngobrol, pecinta kucing, vibes introvert comfy.</p>
              </div>
            </div>

            <div class="swipe-card absolute w-full h-full bg-white rounded-xl shadow-xl overflow-hidden z-10" data-name="Dita">
              <img src="https://i.pinimg.com/736x/af/07/5b/af075bba3ec2d1201385b4f4d8160591.jpg" class="w-full h-[300px] object-cover" />
              <div class="p-4">
                <h3 class="text-xl font-semibold text-[#D65DB1]">Dita, 23</h3>
                <p class="text-gray-600">Suka ngobrol, pecinta kucing, vibes introvert comfy.</p>
              </div>
            </div>

          </div>
        </div>

        <!-- Manual Buttons -->
        <div class="flex justify-center gap-6 mt-6">
          <button id="skipBtn"
            class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-full shadow-lg">
            ❌ Skip
          </button>
          <button id="likeBtn"
            class="bg-[#D65DB1] hover:bg-pink-500 text-white font-bold py-2 px-4 rounded-full shadow-lg">
            ❤️ Like
          </button>
        </div>
</div>

<!-- HammerJS CDN -->
<script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>

              
 </div>
        <div class="sectmsg">
            <!-- 💬 Floating Chat Button -->
<button id="chatToggle"
class="fixed bottom-6 right-6 bg-[#D65DB1] hover:bg-pink-400 text-white p-4 rounded-full shadow-lg z-50 transition duration-300 ease-in-out">
<!-- Icon Chat -->
<svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24"
  stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round"
    d="M7 8h10M7 12h6m-6 4h8M5 20l1.586-1.586A2 2 0 018 18h10a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v14z" />
</svg>
</button>

<!-- 💬 Floating Chat Window -->
<div id="chatWindow"
class="fixed bottom-24 right-6 w-80 bg-white rounded-xl shadow-2xl z-40 hidden flex flex-col border border-gray-200">

<!-- Header -->
<div class="bg-[#D65DB1] text-white px-4 py-3 rounded-t-xl flex justify-between items-center">
  <span class="font-semibold">Message</span>
  <button id="closeChat" class="hover:text-gray-300 text-lg">&times;</button>
</div>

<!-- Chat List -->
<div class="max-h-[300px] overflow-y-auto p-4 space-y-3">
  <!-- Chat Item -->
  <div
  class="chat-item flex items-center gap-3 hover:bg-pink-50 p-2 rounded-lg cursor-pointer transition duration-200"
  data-name="Dita"
  data-img="https://dummyimage.com/40x40/fec/fff">
  <img src="https://dummyimage.com/40x40/fec/fff" class="w-10 h-10 rounded-full object-cover" />
  <div class="text-sm">
    <p class="font-semibold text-[#333]">Dita</p>
    <p class="text-gray-500 text-xs truncate max-w-[180px]">Halo! Kapan kita jalan lagi ya?</p>
  </div>
</div>

<div
class="chat-item flex items-center gap-3 hover:bg-pink-50 p-2 rounded-lg cursor-pointer transition duration-200"
data-name="Dita"
data-img="https://dummyimage.com/40x40/fec/fff">
<img src="https://dummyimage.com/40x40/fec/fff" class="w-10 h-10 rounded-full object-cover" />
<div class="text-sm">
  <p class="font-semibold text-[#333]">Elaina</p>
  <p class="text-gray-500 text-xs truncate max-w-[180px]">Halo! Kapan kita jalan lagi ya?</p>
</div>
</div>
  <!-- Tambah kontak lainnya jika perlu -->
</div>
</div>
<!-- 💬 Chat Room Container -->
<div id="chatRoom"
  class="fixed bottom-12 right-6 w-[360px] max-h-[85vh] bg-white rounded-xl shadow-2xl z-50 flex flex-col border border-gray-200 hidden">

  <!-- Header -->
  <div class="bg-[#D65DB1] text-white px-4 py-3 rounded-t-xl flex justify-between items-center">
    <div class="flex items-center gap-2">
      <button id="backToList" class="mr-2 text-lg font-bold">&larr;</button>
      <img id="chatImg" src="https://dummyimage.com/40x40/fec/fff" class="w-8 h-8 rounded-full object-cover" />
      <span id="chatName" class="font-semibold">Nama</span>
    </div>
    <div class="flex gap-3">
      <button title="Call">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M15 10l4.553-4.553a.5.5 0 01.707 0l1.293 1.293a.5.5 0 010 .707L17 12m-4 4l-6.293 6.293a1 1 0 01-1.414 0L4 19a1 1 0 010-1.414L10 11l4 4z" />
        </svg>
      </button>
      <button title="Video Call">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M15 10l4.553-4.553a.5.5 0 01.707 0l1.293 1.293a.5.5 0 010 .707L17 12m-4 4l-6.293 6.293a1 1 0 01-1.414 0L4 19a1 1 0 010-1.414L10 11l4 4z" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Chat messages -->
  <div id="chatBody" class="flex-1 overflow-y-auto px-4 py-2 space-y-4 bg-[#FFF8F9]">
    <!-- Dummy chat -->
    <div class="flex items-start gap-2">
      <img src="https://dummyimage.com/40x40/fec/fff" class="w-8 h-8 rounded-full" />
      <div class="bg-white px-3 py-2 rounded-xl shadow text-sm max-w-[70%]">Halo juga!</div>
    </div>
    <div class="flex justify-end">
      <div class="bg-[#D65DB1] text-white px-3 py-2 rounded-xl shadow text-sm max-w-[70%]">
        Yuk weekend besok 😄
      </div>
    </div>
  </div>

  <!-- Input -->
  <form id="chatForm" class="border-t p-3 flex gap-2 items-center">
    <input type="text" id="chatInput" placeholder="Tulis pesan..."
      class="flex-1 px-3 py-2 rounded-xl border border-gray-300 text-sm focus:outline-none focus:ring focus:border-[#D65DB1]" />
    <button type="submit"
      class="bg-[#D65DB1] hover:bg-pink-400 text-white px-4 py-2 rounded-xl text-sm">Kirim</button>
  </form>
</div>


        </div>
        
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Rent a Friend. Made with 💖</p>
        </div>
    </footer>

    <script>
      function openOrderPopup(talentId, talentName) {
        document.getElementById('orderPopup').classList.remove('hidden');
        document.getElementById('popupTitle').innerText = `Order Date with ${talentName}`;
        document.getElementById('talentIdInput').value = talentId;
      }
      function closeOrderPopup() {
        document.getElementById('orderPopup').classList.add('hidden');
      }
      </script>

    <script>
        const chatBtn = document.getElementById('chatToggle');
        const chatWindow = document.getElementById('chatWindow');
        const chatRoom = document.getElementById('chatRoom');
        const closeBtn = document.getElementById('closeChat');
        const backBtn = document.getElementById('backToList');
        const chatName = document.getElementById('chatName');
        const chatImg = document.getElementById('chatImg');
        const chatBody = document.getElementById('chatBody');
        const chatForm = document.getElementById('chatForm');
        const chatInput = document.getElementById('chatInput');
      
        // Toggle bubble chat
        chatBtn.onclick = () => chatWindow.classList.toggle('hidden');
        closeBtn.onclick = () => chatWindow.classList.add('hidden');
      
        // Buka chat 1-on-1
        document.querySelectorAll('.chat-item').forEach(item => {
          item.addEventListener('click', () => {
            const name = item.dataset.name;
            const img = item.dataset.img;
      
            chatName.textContent = name;
            chatImg.src = img;
      
            chatWindow.classList.add('hidden');
            chatRoom.classList.remove('hidden');
      
            // Optional: scroll to bottom
            setTimeout(() => chatBody.scrollTop = chatBody.scrollHeight, 200);
          });
        });
      
        // Tombol kembali
        backBtn.onclick = () => {
          chatRoom.classList.add('hidden');
          chatWindow.classList.remove('hidden');
        };
      
        // Kirim pesan dummy
        chatForm.addEventListener('submit', e => {
          e.preventDefault();
          const text = chatInput.value.trim();
          if (text) {
            const bubble = document.createElement('div');
            bubble.className = 'flex justify-end';
            bubble.innerHTML = `<div class="bg-[#D65DB1] text-white px-3 py-2 rounded-xl shadow text-sm max-w-[70%]">${text}</div>`;
            chatBody.appendChild(bubble);
            chatInput.value = '';
            chatBody.scrollTop = chatBody.scrollHeight;
          }
        });
      </script>

<script>
  // 👇 Example: get user name from Flask cookie/session or variable
  const userName = "{{ user_name | default('Log In') }}"; // Jinja2 example

  if (userName && userName !== "Log In") {
    document.getElementById("userName").textContent = userName;
  }
</script>



<script>
  const cardContainer = document.getElementById('cardContainer');
  const likeBtn = document.getElementById('likeBtn');
  const skipBtn = document.getElementById('skipBtn');

  function initCard(card) {
    const hammertime = new Hammer(card);

    hammertime.on('pan', (ev) => {
      card.style.transition = 'none';
      card.style.transform = `translate(${ev.deltaX}px, ${ev.deltaY}px) rotate(${ev.deltaX / 15}deg)`;
    });

    hammertime.on('panend', (ev) => {
      card.style.transition = 'all 0.8s ease';
      if (Math.abs(ev.deltaX) > 100) {
        const toRight = ev.deltaX > 0;
        card.style.transform = `translate(${toRight ? 1000 : -1000}px, ${ev.deltaY}px) rotate(${ev.deltaX / 10}deg)`;
        setTimeout(() => card.remove(), 300);
      } else {
        card.style.transform = 'translate(0, 0)';
      }
    });
  }

  function getTopCard() {
    const cards = document.querySelectorAll('.swipe-card');
    return cards[cards.length - 1];
  }

  function swipeCard(direction) {
    const card = getTopCard();
    if (!card) return;
    card.style.transition = 'all 0.8s ease';
    const offsetX = direction === 'right' ? 1000 : -1000;
    card.style.transform = `translate(${offsetX}px, 0) rotate(${offsetX / 10}deg)`;
    setTimeout(() => card.remove(), 300);
  }

  // Init all cards
  document.querySelectorAll('.swipe-card').forEach(card => initCard(card));

  // Button events
  likeBtn.addEventListener('click', () => swipeCard('right'));
  skipBtn.addEventListener('click', () => swipeCard('left'));
</script>

<script>
  function openOrderPopup(name) {
    document.getElementById('orderPopup').classList.remove('hidden');
    document.getElementById('popupTitle').innerText = `Order Date with ${name}`;
  }

  function closeOrderPopup() {
    document.getElementById('orderPopup').classList.add('hidden');
  }
</script>

<!-- Optional CSS -->
<style>
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
</style> 
      
      
      
</body>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  const swiper = new Swiper(".swiper", {
    loop: true,
    autoplay: {
      delay: 3000,
      disableOnInteraction: false,
    },
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },
  });

  const swiper1 = new Swiper(".hero-swiper", {
    loop: true,
    autoplay: {
      delay: 3500,
      disableOnInteraction: false,
    },
    effect: "fade",
  });
</script>
</html>